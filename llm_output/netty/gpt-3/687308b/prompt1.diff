diff --git a/codec-http/src/main/java/io/netty/handler/codec/http/QueryStringEncoder.java b/codec-http/src/main/java/io/netty/handler/codec/http/QueryStringEncoder.java
index da5080ff85..acb2bb00cc 100644
--- a/codec-http/src/main/java/io/netty/handler/codec/http/QueryStringEncoder.java
+++ b/codec-http/src/main/java/io/netty/handler/codec/http/QueryStringEncoder.java
@@ -140,10 +140,9 @@ public class QueryStringEncoder {
                     i++;
                 } while (i < s.length() && !dontNeedEncoding(c = s.charAt(i)));
 
-                byte[] bytes = new String(buf, 0, index).getBytes(charset);
-
-                for (byte b : bytes) {
-                    appendEncoded(b);
+                java.nio.ByteBuffer bb = charset.encode(java.nio.CharBuffer.wrap(buf, 0, index));
+                while (bb.hasRemaining()) {
+                    appendEncoded(bb.get());
                 }
             }
         }
