Iâ€™ve split the change into two targeted replacements, each matching the exact indentation in the original file to ensure the patches apply correctly.

```json
[
  {
    "filepath": "../presto/presto-main/src/main/java/com/facebook/presto/operator/scalar/MapConcatFunction.java",
    "search": "        TypedSet typedSet = new TypedSet(keyType, rightMap.getPositionCount());",
    "replace": "        int rightEntries = rightMap.getPositionCount() / 2;\n        int leftEntries = leftMap.getPositionCount() / 2;\n        TypedSet typedSet = new TypedSet(keyType, rightEntries);"
  },
  {
    "filepath": "../presto/presto-main/src/main/java/com/facebook/presto/operator/scalar/MapConcatFunction.java",
    "search": "        BlockBuilder blockBuilder = new InterleavedBlockBuilder(ImmutableList.of(keyType, valueType), new BlockBuilderStatus(), leftMap.getPositionCount() + rightMap.getPositionCount());",
    "replace": "        BlockBuilder blockBuilder = new InterleavedBlockBuilder(ImmutableList.of(keyType, valueType), new BlockBuilderStatus(), leftEntries + rightEntries);"
  }
]
```