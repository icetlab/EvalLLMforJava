Iâ€™ve replaced the full deserialization in ST_Envelope with a fast path using the precomputed envelope from the serialized bytes via `deserializeEnvelope`, falling back to the old behavior only when needed.

```json
[
  {
    "filepath": "../presto/presto-geospatial/src/main/java/com/facebook/presto/plugin/geospatial/GeoFunctions.java",
    "search": "public static Slice stEnvelope(@SqlType(GEOMETRY_TYPE_NAME) Slice input)\n    {\n        OGCGeometry geometry = deserialize(input);\n        SpatialReference reference = geometry.getEsriSpatialReference();\n        Envelope envelope = getEnvelope(geometry);\n        return serialize(createFromEsriGeometry(envelope, reference));\n    }",
    "replace": "public static Slice stEnvelope(@SqlType(GEOMETRY_TYPE_NAME) Slice input)\n    {\n        // Fast-path: only deserialize the envelope if available\n        Envelope envelope = deserializeEnvelope(input);\n        if (envelope != null) {\n            return serialize(createFromEsriGeometry(envelope, null));\n        }\n        // Fallback to full deserialization\n        OGCGeometry geometry = deserialize(input);\n        SpatialReference reference = geometry.getEsriSpatialReference();\n        envelope = getEnvelope(geometry);\n        return serialize(createFromEsriGeometry(envelope, reference));\n    }"
  }
]
```