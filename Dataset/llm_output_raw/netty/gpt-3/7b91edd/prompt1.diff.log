The primary improvement here is to consolidate the IPv4‐specific path in bytesToIpAddress by delegating to the already‐existing intToIpAddress method. This reduces code duplication and may improve performance by reusing the same logic and memory patterns.

```json
[
  {
    "filepath": "../netty/common/src/main/java/io/netty/util/NetUtil.java",
    "search": "case 4: {\n                return new StringBuilder(15)\n                        .append(bytes[offset] & 0xff)\n                        .append('.')\n                        .append(bytes[offset + 1] & 0xff)\n                        .append('.')\n                        .append(bytes[offset + 2] & 0xff)\n                        .append('.')\n                        .append(bytes[offset + 3] & 0xff).toString();\n            }",
    "replace": "case 4:\n                // Delegate IPv4 conversion to intToIpAddress to reduce duplication\n                int v = ((bytes[offset] & 0xff) << 24) |\n                        ((bytes[offset + 1] & 0xff) << 16) |\n                        ((bytes[offset + 2] & 0xff) << 8)  |\n                        (bytes[offset + 3] & 0xff);\n                return intToIpAddress(v);"
  }
]
```