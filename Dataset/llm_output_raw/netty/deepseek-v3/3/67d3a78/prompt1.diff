diff --git a/common/src/main/java/io/netty/util/internal/PlatformDependent0.java b/common/src/main/java/io/netty/util/internal/PlatformDependent0.java
index 3c6012601f..d50a1177f5 100644
--- a/common/src/main/java/io/netty/util/internal/PlatformDependent0.java
+++ b/common/src/main/java/io/netty/util/internal/PlatformDependent0.java
@@ -56,6 +56,8 @@ final class PlatformDependent0 {
     private static final long UNSAFE_COPY_THRESHOLD = 1024L * 1024L;
 
     private static final boolean UNALIGNED;
+    private static final java.util.regex.Pattern UNALIGNED_ARCH_PATTERN = 
+        java.util.regex.Pattern.compile("^(i[3-6]86|x86(_64)?|x64|amd64)$");
 
     static {
         final ByteBuffer direct = ByteBuffer.allocateDirect(1);
@@ -243,8 +245,7 @@ final class PlatformDependent0 {
                 logger.debug("java.nio.Bits.unaligned: available, {}", unaligned);
             } else {
                 String arch = SystemPropertyUtil.get("os.arch", "");
-                //noinspection DynamicRegexReplaceableByCompiledPattern
-                unaligned = arch.matches("^(i[3-6]86|x86(_64)?|x64|amd64)$");
+                unaligned = UNALIGNED_ARCH_PATTERN.matcher(arch).matches();
                 Exception e = (Exception) maybeUnaligned;
                 logger.debug("java.nio.Bits.unaligned: unavailable, " + unaligned, e);
             }
@@ -405,24 +406,30 @@ final class PlatformDependent0 {
     }
 
     static void copyMemory(long srcAddr, long dstAddr, long length) {
-        //UNSAFE.copyMemory(srcAddr, dstAddr, length);
-        while (length > 0) {
-            long size = Math.min(length, UNSAFE_COPY_THRESHOLD);
-            UNSAFE.copyMemory(srcAddr, dstAddr, size);
-            length -= size;
-            srcAddr += size;
-            dstAddr += size;
+        if (length <= UNSAFE_COPY_THRESHOLD) {
+            UNSAFE.copyMemory(srcAddr, dstAddr, length);
+        } else {
+            while (length > 0) {
+                long size = Math.min(length, UNSAFE_COPY_THRESHOLD);
+                UNSAFE.copyMemory(srcAddr, dstAddr, size);
+                length -= size;
+                srcAddr += size;
+                dstAddr += size;
+            }
         }
     }
 
     static void copyMemory(Object src, long srcOffset, Object dst, long dstOffset, long length) {
-        //UNSAFE.copyMemory(src, srcOffset, dst, dstOffset, length);
-        while (length > 0) {
-            long size = Math.min(length, UNSAFE_COPY_THRESHOLD);
-            UNSAFE.copyMemory(src, srcOffset, dst, dstOffset, size);
-            length -= size;
-            srcOffset += size;
-            dstOffset += size;
+        if (length <= UNSAFE_COPY_THRESHOLD) {
+            UNSAFE.copyMemory(src, srcOffset, dst, dstOffset, length);
+        } else {
+            while (length > 0) {
+                long size = Math.min(length, UNSAFE_COPY_THRESHOLD);
+                UNSAFE.copyMemory(src, srcOffset, dst, dstOffset, size);
+                length -= size;
+                srcOffset += size;
+                dstOffset += size;
+            }
         }
     }
 
@@ -435,6 +442,9 @@ final class PlatformDependent0 {
     }
 
     static boolean equals(byte[] bytes1, int startPos1, byte[] bytes2, int startPos2, int length) {
+        if (length == 0) {
+            return true;
+        }
         final long baseOffset1 = BYTE_ARRAY_BASE_OFFSET + startPos1;
         final long baseOffset2 = BYTE_ARRAY_BASE_OFFSET + startPos2;
         final int remainingBytes = length & 7;
