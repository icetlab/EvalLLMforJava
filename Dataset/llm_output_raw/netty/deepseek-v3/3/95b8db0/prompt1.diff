diff --git a/codec-http/src/main/java/io/netty/handler/codec/http/QueryStringDecoder.java b/codec-http/src/main/java/io/netty/handler/codec/http/QueryStringDecoder.java
index 01b747b3f2..eb6b4607bb 100644
--- a/codec-http/src/main/java/io/netty/handler/codec/http/QueryStringDecoder.java
+++ b/codec-http/src/main/java/io/netty/handler/codec/http/QueryStringDecoder.java
@@ -239,20 +239,14 @@ public class QueryStringDecoder {
         int i;
         loop:
         for (i = from; i < len; i++) {
-            switch (s.charAt(i)) {
-            case '=':
+            char c = s.charAt(i);
+            if (c == '=') {
                 if (nameStart == i) {
                     nameStart = i + 1;
                 } else if (valueStart < nameStart) {
                     valueStart = i + 1;
                 }
-                break;
-            case ';':
-                if (semicolonIsNormalChar) {
-                    continue;
-                }
-                // fall-through
-            case '&':
+            } else if (c == ';' && !semicolonIsNormalChar || c == '&') {
                 if (addParam(s, nameStart, valueStart, i, params, charset)) {
                     paramsLimit--;
                     if (paramsLimit == 0) {
@@ -260,11 +254,8 @@ public class QueryStringDecoder {
                     }
                 }
                 nameStart = i + 1;
-                break;
-            case '#':
+            } else if (c == '#') {
                 break loop;
-            default:
-                // continue
             }
         }
         addParam(s, nameStart, valueStart, i, params, charset);
@@ -380,7 +371,7 @@ public class QueryStringDecoder {
 
             byteBuf.flip();
             charBuf.clear();
-            CoderResult result = decoder.reset().decode(byteBuf, charBuf, true);
+            CoderResult result = decoder.decode(byteBuf, charBuf, true);
             try {
                 if (!result.isUnderflow()) {
                     result.throwException();
