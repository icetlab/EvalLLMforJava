diff --git a/presto-main/src/main/java/com/facebook/presto/operator/scalar/MapToMapCast.java b/presto-main/src/main/java/com/facebook/presto/operator/scalar/MapToMapCast.java
index c586b38f12..94b08904d6 100644
--- a/presto-main/src/main/java/com/facebook/presto/operator/scalar/MapToMapCast.java
+++ b/presto-main/src/main/java/com/facebook/presto/operator/scalar/MapToMapCast.java
@@ -214,12 +214,18 @@ public final class MapToMapCast
             Block fromMap)
     {
         checkState(toMapType.getTypeParameters().size() == 2, "Expect two type parameters for toMapType");
-        Type toKeyType = toMapType.getTypeParameters().get(0);
-        TypedSet typedSet = new TypedSet(toKeyType, fromMap.getPositionCount() / 2, "map-to-map cast");
-        BlockBuilder keyBlockBuilder = toKeyType.createBlockBuilder(null, fromMap.getPositionCount() / 2);
-        for (int i = 0; i < fromMap.getPositionCount(); i += 2) {
+        // aliases to reduce repeated parameter lookups
+        SqlFunctionProperties propsLocal = properties;
+        Block input = fromMap;
+        MethodHandle keyFunc = keyProcessFunction;
+        MethodHandle valueFunc = valueProcessFunction;
+        Type toKeyTypeLocal = toMapType.getTypeParameters().get(0);
+        int entryCount = input.getPositionCount() / 2;
+        TypedSet typedSet = new TypedSet(toKeyTypeLocal, entryCount, "map-to-map cast");
+        BlockBuilder keyBlockBuilder = toKeyTypeLocal.createBlockBuilder(null, entryCount);
+        for (int i = 0; i < input.getPositionCount(); i += 2) {
             try {
-                keyProcessFunction.invokeExact(fromMap, i, properties, keyBlockBuilder);
+                keyFunc.invokeExact(input, i, propsLocal, keyBlockBuilder);
             }
             catch (Throwable t) {
                 throw internalError(t);
@@ -229,16 +235,16 @@ public final class MapToMapCast
 
         BlockBuilder mapBlockBuilder = toMapType.createBlockBuilder(null, 1);
         BlockBuilder blockBuilder = mapBlockBuilder.beginBlockEntry();
-        for (int i = 0; i < fromMap.getPositionCount(); i += 2) {
+        for (int i = 0; i < input.getPositionCount(); i += 2) {
             if (typedSet.add(keyBlock, i / 2)) {
-                toKeyType.appendTo(keyBlock, i / 2, blockBuilder);
-                if (fromMap.isNull(i + 1)) {
+                toKeyTypeLocal.appendTo(keyBlock, i / 2, blockBuilder);
+                if (input.isNull(i + 1)) {
                     blockBuilder.appendNull();
                     continue;
                 }
 
                 try {
-                    valueProcessFunction.invokeExact(fromMap, i + 1, properties, blockBuilder);
+                    valueFunc.invokeExact(input, i + 1, propsLocal, blockBuilder);
                 }
                 catch (Throwable t) {
                     throw internalError(t);
