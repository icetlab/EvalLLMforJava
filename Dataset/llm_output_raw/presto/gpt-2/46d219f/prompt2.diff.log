The change adds fast-path checks to return immediately when either input map is empty, avoiding unnecessary allocation and copying.

```json
[
  {
    "filepath": "../presto/presto-main/src/main/java/com/facebook/presto/operator/scalar/MapConcatFunction.java",
    "search": "public static Block mapConcat(\n            @TypeParameter(\"K\") Type keyType,\n            @TypeParameter(\"V\") Type valueType,\n            @SqlType(\"map(K,V)\") Block leftMap,\n            @SqlType(\"map(K,V)\") Block rightMap)\n    {\n        TypedSet typedSet = new TypedSet(keyType, rightMap.getPositionCount());",
    "replace": "public static Block mapConcat(\n            @TypeParameter(\"K\") Type keyType,\n            @TypeParameter(\"V\") Type valueType,\n            @SqlType(\"map(K,V)\") Block leftMap,\n            @SqlType(\"map(K,V)\") Block rightMap)\n    {\n        // optimize: skip concatenation when one of the maps is empty\n        if (rightMap.getPositionCount() == 0) {\n            return leftMap;\n        }\n        if (leftMap.getPositionCount() == 0) {\n            return rightMap;\n        }\n        TypedSet typedSet = new TypedSet(keyType, rightMap.getPositionCount());"
  }
]
```