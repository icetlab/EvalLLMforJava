The performance issue is to optimize `map_concat` to skip empty maps. Currently, the function always processes both input maps even when one is empty, which leads to unnecessary allocations and iterations. By adding early checks for empty maps, we can avoid creating unnecessary data structures and return the non-empty map directly.

```json
[
  {
    "filepath": "../presto/presto-main/src/main/java/com/facebook/presto/operator/scalar/MapConcatFunction.java",
    "search": "    @TypeParameter(\"K\")\n    @TypeParameter(\"V\")\n    @SqlType(\"map(K,V)\")\n    public static Block mapConcat(\n            @TypeParameter(\"K\") Type keyType,\n            @TypeParameter(\"V\") Type valueType,\n            @SqlType(\"map(K,V)\") Block leftMap,\n            @SqlType(\"map(K,V)\") Block rightMap)\n    {\n        TypedSet typedSet = new TypedSet(keyType, rightMap.getPositionCount());\n        BlockBuilder blockBuilder = new InterleavedBlockBuilder(ImmutableList.of(keyType, valueType), new BlockBuilderStatus(), leftMap.getPositionCount() + rightMap.getPositionCount());",
    "replace": "    @TypeParameter(\"K\")\n    @TypeParameter(\"V\")\n    @SqlType(\"map(K,V)\")\n    public static Block mapConcat(\n            @TypeParameter(\"K\") Type keyType,\n            @TypeParameter(\"V\") Type valueType,\n            @SqlType(\"map(K,V)\") Block leftMap,\n            @SqlType(\"map(K,V)\") Block rightMap)\n    {\n        if (leftMap.getPositionCount() == 0) {\n            return rightMap;\n        }\n        if (rightMap.getPositionCount() == 0) {\n            return leftMap;\n        }\n        TypedSet typedSet = new TypedSet(keyType, rightMap.getPositionCount());\n        BlockBuilder blockBuilder = new InterleavedBlockBuilder(ImmutableList.of(keyType, valueType), new BlockBuilderStatus(), leftMap.getPositionCount() + rightMap.getPositionCount());"
  }
]
```