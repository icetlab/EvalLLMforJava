diff --git a/presto-orc/src/main/java/com/facebook/presto/orc/reader/SliceDirectSelectiveStreamReader.java b/presto-orc/src/main/java/com/facebook/presto/orc/reader/SliceDirectSelectiveStreamReader.java
index 79b56c6971..6da6de4ba8 100644
--- a/presto-orc/src/main/java/com/facebook/presto/orc/reader/SliceDirectSelectiveStreamReader.java
+++ b/presto-orc/src/main/java/com/facebook/presto/orc/reader/SliceDirectSelectiveStreamReader.java
@@ -657,7 +657,7 @@ public class SliceDirectSelectiveStreamReader
             else {
                 int positionIndex = 0;
                 int lengthIndex = 0;
-                for (int i = 0; i < totalPositions; i++) {
+                for (int i = 0; i < totalPositions && positionIndex < positionCount; i++) {
                     boolean isNotNull = nullCount == 0 || !isNullVector[i];
                     if (i == positions[positionIndex]) {
                         if (isNotNull) {
